<html>

<body>
<p>insert html here</p>
<script>

    // let serviceUri = 'PYRO:glysade.pyserver@127.0.0.1:9101'
    let serviceUri = 'PYRO:glysade.pyserver@192.168.1.132:9101'

    // let serviceUri = 'LOCAL:glysade.python'

    async function submitRequest(requestJson) {
        console.log('posting to generic data function service');
        try {
            const result = await publisher.modify('generic_df', requestJson);
            console.log(result);
            return result;
        } catch (err) {
            console.warn(`Got error ${err.message}`);
        }
    }

    async function antibodyNumbering() {
        const requestJson = {
            'serviceName': 'AntibodyNumbering',
            'executorId': 'Glysade.CPythonDataFxn',
            'inputFields': {
                'sequenceColumn': {
                    'id': 'sequenceColumn',
                    'dataType': 'list(integer)',
                    'data': [1],
                    'selectorType': 'column'
                },
                'scheme': {'id': 'scheme', 'dataType': 'string', 'data': 'chothia'}
            },
            'serviceUri': serviceUri
        };
        await submitRequest(requestJson);
    }

    async function antibodyNumbering2() {
        const requestJson = {
            'serviceName': 'AntibodyNumbering',
            'executorId': 'Glysade.CPythonDataFxn',
            'inputFields': {
                'sequenceColumn': {
                    'id': 'sequenceColumn',
                    'dataType': 'stringList',
                    'data': ['955576c0-e353-47c7-8bb6-80db32494ae5sSequence'],
                    'selectorType': 'column'
                },
                'scheme': {'id': 'scheme', 'dataType': 'string', 'data': 'kabat'}
            },
            'serviceUri': serviceUri
        };
        await submitRequest(requestJson);
    }

    async function multipleSequenceAlignment() {
        const requestJson = {
            'serviceName': 'MultipleSequenceAlignment', 'maximumOutputColumns': 3,
            'executorId': 'Glysade.CPythonDataFxn',
            'inputFields': {
                'sequenceColumn': {
                    'id': 'sequenceColumn',
                    'dataType': 'list(integer)',
                    'data': [1],
                    'selectorType': 'column'
                },
                'alignmentMethod': {'id': 'method', 'dataType': 'string', 'data': 'muscle'}
            },
            'serviceUri': serviceUri
        };
        await submitRequest(requestJson);
    }

    async function multipleSequenceAlignment2() {
        const requestJson = {
            'serviceName': 'MultipleSequenceAlignment', 'maximumOutputColumns': 3,
            'executorId': 'Glysade.CPythonDataFxn',
            'inputFields': {
                'sequenceColumn': {
                    'id': 'sequenceColumn',
                    'dataType': 'stringList',
                    'data': ['955576c0-e353-47c7-8bb6-80db32494ae5sSequence'],
                    'selectorType': 'column'
                },
                'alignmentMethod': {'id': 'method', 'dataType': 'string', 'data': 'muscle'}
            },
            'serviceUri': serviceUri
        };
        await submitRequest(requestJson);
    }

    async function blastTableSearch() {
        const requestJson = {
            'serviceName': 'BlastTableSearch',
            'executorId': 'Glysade.CPythonDataFxn',
            'inputFields': {
                'sequenceColumn': {
                    'id': 'sequenceColumn',
                    'dataType': 'list(integer)',
                    'data': [1],
                    'selectorType': 'column'
                },
                'query': {
                    'id': 'query',
                    'dataType': 'string',
                    'data': 'IQLTQSPSSLSASVGDRVTITCSASSSVNHMFWYQQKPGKAPKPWIYLTSNLASGVPSRFSGSGSGTDYTLTISSLQPEDFATYYCQQWSGNPWTFGQGTKVEIKRTVAAPSVFIFPPSDEQLKSGTASVVCLLNNFYPREAKVQWKVDNALQSGNSQESVTEQDSKDSTYSLSSTLTLSKADYEKHKVYACEVTHQGLSSPVTKSFNRGEC'
                }
            },
            'serviceUri': serviceUri
        };
        await submitRequest(requestJson);
    }

    async function pairwiseSequenceAlignment() {
        const requestJson = {
            'serviceName': 'PairwiseSequenceAlignment',
            'executorId': 'Glysade.CPythonDataFxn',
            'inputFields': {
                'sequenceColumn': {
                    'id': 'sequenceColumn',
                    'dataType': 'list(integer)',
                    'data': [1],
                    'selectorType': 'column'
                },
                'query': {
                    'id': 'query',
                    'dataType': 'string',
                    'data': 'IQLTQSPSSLSASVGDRVTITCSASSSVNHMFWYQQKPGKAPKPWIYLTSNLASGVPSRFSGSGSGTDYTLTISSLQPEDFATYYCQQWSGNPWTFGQGTKVEIKRTVAAPSVFIFPPSDEQLKSGTASVVCLLNNFYPREAKVQWKVDNALQSGNSQESVTEQDSKDSTYSLSSTLTLSKADYEKHKVYACEVTHQGLSSPVTKSFNRGEC'
                }
            },
            'serviceUri': serviceUri
        };
        await submitRequest(requestJson);
    }

    async function blastLocalTextSearch() {
        const requestJson =
            {
                "inputFields": {
                    "query": {
                        "id": "query",
                        "contentType": "chemical/x-sequence",
                        "dataType": "string",
                        "data": "GTGADRLMSKRCKEKLNVLAYSVMNEWPGIRLLVTESWDEDYHHGQESLH",
                    },
                    "maxHits": {
                        "id": "maxHits",
                        "dataType": "integer",
                        "data": 20,
                    },
                    "method": {
                        "id": "method",
                        "dataType": "string",
                        "data": "BLASTP",
                    },
                    "databaseName": {
                        "id": "databaseName",
                        "dataType": "string",
                        "data": "human_nr",
                    }
                },
                "serviceName": "BlastLocalTextSearch",
                'executorId': 'Glysade.CPythonDataFxn',
                'serviceUri': serviceUri
            }
        await submitRequest(requestJson);
    }

    async function blastLocalColumnSearch() {
        const requestJson =
            {
                "inputFields": {
                    'sequenceColumn': {
                        'id': 'sequenceColumn',
                        'dataType': 'list(integer)',
                        'data': [1],
                        'selectorType': 'column'
                    },
                    "maxHits": {
                        "id": "maxHits",
                        "dataType": "integer",
                        "data": 20,
                    },
                    "method": {
                        "id": "method",
                        "dataType": "string",
                        "data": "BLASTP",
                    },
                    "databaseName": {
                        "id": "databaseName",
                        "dataType": "string",
                        "data": "human_nr",
                    }
                },
                "serviceName": "BlastLocalColumnSearch",
                'executorId': 'Glysade.CPythonDataFxn',
                'serviceUri': serviceUri
            }
        await submitRequest(requestJson);
    }


    async function blastWebSearch() {
        const requestJson =
            {
                "inputFields": {
                    "query": {
                        "id": "query",
                        "contentType": "chemical/x-sequence",
                        "dataType": "string",
                        "data": "GTGADRLMSKRCKEKLNVLAYSVMNEWPGIRLLVTESWDEDYHHGQESLH",
                    },
                    "maxHits": {
                        "id": "maxHits",
                        "dataType": "integer",
                        "data": 20,
                    },
                   "databaseName": {
                        "id": "databaseName",
                        "dataType": "string",
                        "data": "nr",
                    }
                },
                "serviceName": "BlastWebSearch",
                'executorId': 'Glysade.CPythonDataFxn',
                'serviceUri': serviceUri
            }
        await submitRequest(requestJson);
    }


</script>

</body>

</html>